{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"./ExpoAppAuth","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.getDefaultOAuthRedirect=y,e.authAsync=function(t){return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(s.default.executeAsync){n.next=2;break}throw new c.UnavailabilityError('expo-app-auth','authAsync');case 2:return n.next=4,o.default.awrap(w(t));case 4:return n.abrupt(\"return\",n.sent);case 5:case\"end\":return n.stop()}})},e.refreshAsync=function(t,n){return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(s.default.executeAsync){u.next=2;break}throw new c.UnavailabilityError('expo-app-auth','refreshAsync');case 2:if(n){u.next=4;break}throw new c.CodedError('ERR_APP_AUTH_TOKEN','Cannot refresh with null `refreshToken`');case 4:return u.next=6,o.default.awrap(w(p({isRefresh:!0,refreshToken:n},t)));case 6:return u.abrupt(\"return\",u.sent);case 7:case\"end\":return u.stop()}})},e.revokeAsync=function(t,n){var s,f,p,h,w,y,v,b,A,O,_,E,R,P;return o.default.async(function(x){for(;;)switch(x.prev=x.next){case 0:if(s=t.clientId,f=t.issuer,p=t.serviceConfiguration,h=n.token,w=n.isClientIdProvided,y=void 0!==w&&w,h){x.next=4;break}throw new c.CodedError('ERR_APP_AUTH_TOKEN','Cannot revoke a null `token`');case 4:if(l(s),!p||!p.revocationEndpoint){x.next=9;break}v=p.revocationEndpoint,x.next=17;break;case 9:return x.next=11,o.default.awrap(fetch(f+\"/.well-known/openid-configuration\"));case 11:return b=x.sent,x.next=14,o.default.awrap(b.json());case 14:A=x.sent,(0,u.default)(A.revocation_endpoint,'The OpenID config does not specify a revocation endpoint'),v=A.revocation_endpoint;case 17:return O=encodeURIComponent(s),_=encodeURIComponent(h),E=\"token=\"+_+(y?\"&client_id=\"+O:''),R={'Content-Type':'application/x-www-form-urlencoded'},x.prev=21,x.next=24,o.default.awrap(fetch(v,{method:'POST',headers:R,body:E}));case 24:return P=x.sent,x.abrupt(\"return\",P);case 28:throw x.prev=28,x.t0=x.catch(21),new c.CodedError('ERR_APP_AUTH_REVOKE_FAILED',x.t0.message);case 31:case\"end\":return x.stop()}},null,null,[[21,28]])},e.URLSchemes=e.OAuthRedirect=void 0;var n=t(r(d[1])),o=t(r(d[2])),c=r(d[3]),u=t(r(d[4])),s=t(r(d[5]));function f(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function p(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?f(c,!0).forEach(function(o){(0,n.default)(t,o,c[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(c,n))})}return t}function l(t){if('string'!=typeof t||!t.length)throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','`clientId` must be a string with more than 0 characters')}function h(t){var n,o=t.issuer,u=t.redirectUrl,s=t.clientId,f=t.serviceConfiguration;if('string'!=typeof o&&(!(n=f)||'string'!=typeof n.authorizationEndpoint||'string'!=typeof n.tokenEndpoint))throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','You must provide either an `issuer` or both `authorizationEndpoint` and `tokenEndpoint`');if('string'!=typeof u)throw new c.CodedError('ERR_APP_AUTH_INVALID_CONFIG','`redirectUrl` must be a string');l(s)}function w(t){return o.default.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t.redirectUrl||(t.redirectUrl=y()),h(t),n.next=4,o.default.awrap(s.default.executeAsync(t));case 4:return n.abrupt(\"return\",n.sent);case 5:case\"end\":return n.stop()}})}function y(){return s.default.OAuthRedirect+\":/oauthredirect\"}var v=s.default.OAuthRedirect,b=s.default.URLSchemes;e.URLSchemes=b,e.OAuthRedirect=v});","map":[[1,131,33,7],[1,140,33,32,"props"],[1,143,33,7],[1,150,33,7,"_regenerator"],[1,152,33,7,"default"],[1,160,33,7,"async"],[1,166,33,7],[1,175,33,7,"_context2"],[1,178,33,7],[1,185,33,7],[1,192,33,7,"_context2"],[1,194,33,7,"prev"],[1,199,33,7,"_context2"],[1,201,33,7,"next"],[1,207,33,7],[1,212,33,7],[1,214,33,7],[1,217,34,9,"ExpoAppAuth"],[1,219,34,9,"ExpoAppAuth"],[1,227,34,21,"executeAsync"],[1,240,33,7],[1,241,33,7,"_context2"],[1,243,33,7,"next"],[1,248,33,7],[1,250,33,7],[1,256,33,7],[1,262,35,14],[1,266,35,18,"UnavailabilityError"],[1,268,35,18,"UnavailabilityError"],[1,288,35,38],[1,304,35,55],[1,317,33,7],[1,322,33,7],[1,324,33,7],[1,331,33,7,"_context2"],[1,333,33,7,"next"],[1,338,33,7],[1,340,33,7,"_regenerator"],[1,342,33,7,"default"],[1,350,33,7,"awrap"],[1,356,37,17,"_executeAsync"],[1,358,37,31,"props"],[1,362,33,7],[1,367,33,7],[1,369,33,7],[1,376,33,7,"_context2"],[1,378,33,7,"abrupt"],[1,385,33,7],[1,394,33,7,"_context2"],[1,396,33,7,"sent"],[1,402,33,7],[1,407,33,7],[1,409,33,7],[1,413,33,7],[1,419,33,7],[1,426,33,7,"_context2"],[1,428,33,7,"stop"],[1,454,39,7],[1,463,39,35,"props"],[1,465,39,42,"refreshToken"],[1,468,39,7],[1,475,39,7,"_regenerator"],[1,477,39,7,"default"],[1,485,39,7,"async"],[1,491,39,7],[1,500,39,7,"_context3"],[1,503,39,7],[1,510,39,7],[1,517,39,7,"_context3"],[1,519,39,7,"prev"],[1,524,39,7,"_context3"],[1,526,39,7,"next"],[1,532,39,7],[1,537,39,7],[1,539,39,7],[1,542,40,9,"ExpoAppAuth"],[1,544,40,9,"ExpoAppAuth"],[1,552,40,21,"executeAsync"],[1,565,39,7],[1,566,39,7,"_context3"],[1,568,39,7,"next"],[1,573,39,7],[1,575,39,7],[1,581,39,7],[1,587,41,14],[1,591,41,18,"UnavailabilityError"],[1,593,41,18,"UnavailabilityError"],[1,613,41,38],[1,629,41,55],[1,645,39,7],[1,650,39,7],[1,652,39,7],[1,655,43,9,"refreshToken"],[1,657,39,7],[1,658,39,7,"_context3"],[1,660,39,7,"next"],[1,665,39,7],[1,667,39,7],[1,673,39,7],[1,679,44,14],[1,683,44,18,"CodedError"],[1,685,44,18,"CodedError"],[1,696,44,29],[1,717,44,51],[1,760,39,7],[1,765,39,7],[1,767,39,7],[1,774,39,7,"_context3"],[1,776,39,7,"next"],[1,781,39,7],[1,783,39,7,"_regenerator"],[1,785,39,7,"default"],[1,793,39,7,"awrap"],[1,799,46,17,"_executeAsync"],[1,801,46,30,"_objectSpread"],[1,804,47,8,"isRefresh"],[1,815,47,19],[1,817,48,8,"refreshToken"],[1,830,48,8,"refreshToken"],[1,833,49,11,"props"],[1,838,39,7],[1,843,39,7],[1,845,39,7],[1,852,39,7,"_context3"],[1,854,39,7,"abrupt"],[1,861,39,7],[1,870,39,7,"_context3"],[1,872,39,7,"sent"],[1,878,39,7],[1,883,39,7],[1,885,39,7],[1,889,39,7],[1,895,39,7],[1,902,39,7,"_context3"],[1,904,39,7,"stop"],[1,929,53,7],[1,938,53,7,"_ref2"],[1,940,53,7,"_ref3"],[1,943,53,7],[1,947,53,7,"clientId"],[1,949,53,7,"issuer"],[1,951,53,7,"serviceConfiguration"],[1,953,53,7,"token"],[1,955,53,7,"_ref3$isClientIdProvi"],[1,957,53,7,"isClientIdProvided"],[1,959,53,7,"revocationEndpoint"],[1,961,53,7,"response"],[1,963,53,7,"openidConfig"],[1,965,53,7,"encodedClientID"],[1,967,53,7,"encodedToken"],[1,969,53,7,"body"],[1,971,53,7,"headers"],[1,973,53,7,"results"],[1,975,53,7],[1,982,53,7,"_regenerator"],[1,984,53,7,"default"],[1,992,53,7,"async"],[1,998,53,7],[1,1007,53,7,"_context4"],[1,1010,53,7],[1,1017,53,7],[1,1024,53,7,"_context4"],[1,1026,53,7,"prev"],[1,1031,53,7,"_context4"],[1,1033,53,7,"next"],[1,1039,53,7],[1,1044,53,7],[1,1046,53,7],[1,1049,53,36,"clientId"],[1,1051,53,7,"_ref2"],[1,1053,53,36,"clientId"],[1,1062,53,46,"issuer"],[1,1064,53,7,"_ref2"],[1,1066,53,46,"issuer"],[1,1073,53,54,"serviceConfiguration"],[1,1075,53,7,"_ref2"],[1,1077,53,54,"serviceConfiguration"],[1,1098,53,80,"token"],[1,1100,53,7,"_ref3"],[1,1102,53,80,"token"],[1,1108,53,7,"_ref3$isClientIdProvi"],[1,1110,53,7,"_ref3"],[1,1112,53,87,"isClientIdProvided"],[1,1131,53,87,"isClientIdProvided"],[1,1138,53,7,"undefined"],[1,1142,53,7,"_ref3$isClientIdProvi"],[1,1145,53,7,"_ref3$isClientIdProvi"],[1,1147,54,9,"token"],[1,1149,53,7],[1,1150,53,7,"_context4"],[1,1152,53,7,"next"],[1,1157,53,7],[1,1159,53,7],[1,1165,53,7],[1,1171,55,14],[1,1175,55,18,"CodedError"],[1,1177,55,18,"CodedError"],[1,1188,55,29],[1,1209,55,51],[1,1241,53,7],[1,1246,53,7],[1,1248,53,7],[1,1251,57,4,"assertValidClientId"],[1,1253,57,24,"clientId"],[1,1257,59,8,"serviceConfiguration"],[1,1261,59,32,"serviceConfiguration"],[1,1263,59,53,"revocationEndpoint"],[1,1282,53,7],[1,1283,53,7,"_context4"],[1,1285,53,7,"next"],[1,1290,53,7],[1,1292,53,7],[1,1298,60,8,"revocationEndpoint"],[1,1300,60,29,"serviceConfiguration"],[1,1302,60,50,"revocationEndpoint"],[1,1321,53,7,"_context4"],[1,1323,53,7,"next"],[1,1328,53,7],[1,1331,53,7],[1,1337,53,7],[1,1342,53,7],[1,1344,53,7],[1,1351,53,7,"_context4"],[1,1353,53,7,"next"],[1,1358,53,7],[1,1361,53,7,"_regenerator"],[1,1363,53,7,"default"],[1,1371,53,7,"awrap"],[1,1377,64,31,"fetch"],[1,1383,64,40,"issuer"],[1,1385,64,36],[1,1423,53,7],[1,1428,53,7],[1,1431,53,7],[1,1438,64,14,"response"],[1,1440,53,7,"_context4"],[1,1442,53,7,"sent"],[1,1447,53,7,"_context4"],[1,1449,53,7,"next"],[1,1454,53,7],[1,1457,53,7,"_regenerator"],[1,1459,53,7,"default"],[1,1467,53,7,"awrap"],[1,1473,65,35,"response"],[1,1475,65,44,"json"],[1,1483,53,7],[1,1488,53,7],[1,1491,65,14,"openidConfig"],[1,1493,53,7,"_context4"],[1,1495,53,7,"sent"],[1,1501,66,8],[1,1503,66,8,"_invariant"],[1,1505,66,8,"default"],[1,1514,66,18,"openidConfig"],[1,1516,66,31,"revocation_endpoint"],[1,1536,66,52],[1,1596,67,8,"revocationEndpoint"],[1,1598,67,29,"openidConfig"],[1,1600,67,42,"revocation_endpoint"],[1,1620,53,7],[1,1625,53,7],[1,1628,53,7],[1,1635,69,10,"encodedClientID"],[1,1637,69,28,"encodeURIComponent"],[1,1656,69,47,"clientId"],[1,1659,70,10,"encodedToken"],[1,1661,70,25,"encodeURIComponent"],[1,1680,70,44,"token"],[1,1683,71,10,"body"],[1,1685,53,7],[1,1694,71,26,"encodedToken"],[1,1697,71,41,"isClientIdProvided"],[1,1699,71,59],[1,1713,71,76,"encodedClientID"],[1,1715,71,96],[1,1719,72,10,"headers"],[1,1722,72,22,"Content-Type"],[1,1737,72,38],[1,1774,53,7,"_context4"],[1,1776,53,7,"prev"],[1,1781,53,7],[1,1784,53,7,"_context4"],[1,1786,53,7,"next"],[1,1791,53,7],[1,1794,53,7,"_regenerator"],[1,1796,53,7,"default"],[1,1804,53,7,"awrap"],[1,1810,75,30,"fetch"],[1,1816,75,36,"revocationEndpoint"],[1,1819,76,12,"method"],[1,1826,76,20],[1,1833,77,12,"headers"],[1,1841,77,12,"headers"],[1,1843,78,12,"body"],[1,1848,78,12,"body"],[1,1853,53,7],[1,1858,53,7],[1,1861,53,7],[1,1868,75,14,"results"],[1,1870,53,7,"_context4"],[1,1872,53,7,"sent"],[1,1877,53,7,"_context4"],[1,1879,53,7,"abrupt"],[1,1886,53,7],[1,1895,80,15,"results"],[1,1898,53,7],[1,1903,53,7],[1,1906,53,7],[1,1912,53,7,"_context4"],[1,1914,53,7,"prev"],[1,1919,53,7],[1,1922,53,7,"_context4"],[1,1924,53,7,"t0"],[1,1927,53,7,"_context4"],[1,1929,53,7],[1,1935,53,7],[1,1939,83,14],[1,1943,83,18,"CodedError"],[1,1945,83,18,"CodedError"],[1,1956,83,29],[1,1985,83,59,"_context4"],[1,1987,83,59,"t0"],[1,1990,83,65,"message"],[1,1999,53,7],[1,2004,53,7],[1,2007,53,7],[1,2011,53,7],[1,2017,53,7],[1,2024,53,7,"_context4"],[1,2026,53,7,"stop"],[1,2035,53,7],[1,2040,53,7],[1,2047,53,7],[1,2050,53,7],[1,2123,1,0,"_core"],[1,2125,1,0,"r"],[1,2127,1,0,"d"],[1,2129,1,0],[1,2133,2,0,"_invariant"],[1,2135,2,0,"_interopRequireDefault"],[1,2137,2,0,"r"],[1,2139,2,0,"d"],[1,2141,2,0],[1,2146,3,0,"_ExpoAppAuth"],[1,2148,3,0,"_interopRequireDefault"],[1,2150,3,0,"r"],[1,2152,3,0,"d"],[1,2154,3,0],[1,2724,9,0],[1,2733,9,9,"assertValidClientId"],[1,2735,9,29,"clientId"],[1,2738,10,4],[1,2741,10,28],[1,2758,10,15,"clientId"],[1,2762,10,41,"clientId"],[1,2764,10,50,"length"],[1,2771,11,8],[1,2777,11,14],[1,2781,11,18,"CodedError"],[1,2783,11,18,"CodedError"],[1,2794,11,29],[1,2824,11,60],[1,2883,14,0],[1,2892,14,9,"assertValidProps"],[1,2894,14,0,"_ref"],[1,2897,14,84],[1,2901,4,37,"config"],[1,2903,14,28,"issuer"],[1,2905,14,84,"_ref"],[1,2907,14,28,"issuer"],[1,2914,14,36,"redirectUrl"],[1,2916,14,84,"_ref"],[1,2918,14,36,"redirectUrl"],[1,2930,14,49,"clientId"],[1,2932,14,84,"_ref"],[1,2934,14,49,"clientId"],[1,2943,14,59,"serviceConfiguration"],[1,2945,14,84,"_ref"],[1,2947,14,59,"serviceConfiguration"],[1,2968,15,4],[1,2971,15,26],[1,2988,15,15,"issuer"],[1,2994,4,37,"config"],[1,2996,15,67,"serviceConfiguration"],[1,3000,6,48],[1,3017,6,15,"config"],[1,3019,6,22,"authorizationEndpoint"],[1,3042,7,40],[1,3059,7,15,"config"],[1,3061,7,22,"tokenEndpoint"],[1,3076,16,8],[1,3082,16,14],[1,3086,16,18,"CodedError"],[1,3088,16,18,"CodedError"],[1,3099,16,29],[1,3129,16,60],[1,3220,18,4],[1,3223,18,31],[1,3240,18,15,"redirectUrl"],[1,3242,19,8],[1,3248,19,14],[1,3252,19,18,"CodedError"],[1,3254,19,18,"CodedError"],[1,3265,19,29],[1,3295,19,60],[1,3329,21,4,"assertValidClientId"],[1,3331,21,24,"clientId"],[1,3334,23,0],[1,3343,23,15,"_executeAsync"],[1,3345,23,29,"props"],[1,3348,23,0],[1,3355,23,0,"_regenerator"],[1,3357,23,0,"default"],[1,3365,23,0,"async"],[1,3371,23,0],[1,3380,23,0,"_context"],[1,3383,23,0],[1,3390,23,0],[1,3397,23,0,"_context"],[1,3399,23,0,"prev"],[1,3404,23,0,"_context"],[1,3406,23,0,"next"],[1,3412,23,0],[1,3417,23,0],[1,3419,23,0],[1,3426,24,9,"props"],[1,3428,24,15,"redirectUrl"],[1,3442,25,8,"props"],[1,3444,25,14,"redirectUrl"],[1,3456,25,28,"getDefaultOAuthRedirect"],[1,3461,27,4,"assertValidProps"],[1,3463,27,21,"props"],[1,3466,23,0,"_context"],[1,3468,23,0,"next"],[1,3473,23,0],[1,3475,23,0,"_regenerator"],[1,3477,23,0,"default"],[1,3485,23,0,"awrap"],[1,3491,28,17,"ExpoAppAuth"],[1,3493,28,17,"ExpoAppAuth"],[1,3501,28,29,"executeAsync"],[1,3514,28,42,"props"],[1,3518,23,0],[1,3523,23,0],[1,3525,23,0],[1,3532,23,0,"_context"],[1,3534,23,0,"abrupt"],[1,3541,23,0],[1,3550,23,0,"_context"],[1,3552,23,0,"sent"],[1,3558,23,0],[1,3563,23,0],[1,3565,23,0],[1,3569,23,0],[1,3575,23,0],[1,3582,23,0,"_context"],[1,3584,23,0,"stop"],[1,3594,30,7],[1,3603,30,16,"getDefaultOAuthRedirect"],[1,3607,31,4],[1,3614,31,14,"ExpoAppAuth"],[1,3616,31,14,"ExpoAppAuth"],[1,3624,31,26,"OAuthRedirect"],[1,3638,31,4],[1,3660,122,15,"OAuthRedirect"],[1,3662,122,45,"ExpoAppAuth"],[1,3664,122,45,"ExpoAppAuth"],[1,3672,122,15,"OAuthRedirect"],[1,3686,122,30,"URLSchemes"],[1,3688,122,45,"ExpoAppAuth"],[1,3690,122,45,"ExpoAppAuth"],[1,3698,122,30,"URLSchemes"]]},"type":"js/module"}]}